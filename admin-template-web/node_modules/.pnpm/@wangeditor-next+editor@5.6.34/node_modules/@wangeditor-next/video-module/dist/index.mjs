import{i18nAddResources as t,t as r,DomEditor as e,genModalInputElems as n,genModalButtonElems as o,createUploader as i}from"@wangeditor-next/core";import u,{append as c,on as a,focus as f,attr as s,val as l,html as v,parent as d,hasClass as p,empty as h}from"dom7";import{Transforms as y,Range as g}from"slate";import{nanoid as m}from"nanoid";import{jsx as b,h as w}from"snabbdom";t("en",{videoModule:{delete:"Delete",uploadVideo:"Upload video",insertVideo:"Insert video",videoSrc:"Video source",videoSrcPlaceHolder:"Video file url, or third-party <iframe>",videoPoster:"Video poster",videoPosterPlaceHolder:"Poster image url",ok:"Ok",editSize:"Edit size",edit:"Edit video",width:"Width",height:"Height"}}),t("zh-CN",{videoModule:{delete:"删除视频",uploadVideo:"上传视频",insertVideo:"插入视频",videoSrc:"视频地址",videoSrcPlaceHolder:"视频文件 url 或第三方 <iframe>",videoPoster:"视频封面",videoPosterPlaceHolder:"封面图片 url",ok:"确定",editSize:"修改尺寸",edit:"编辑视频",width:"宽度",height:"高度"}});var S,x,O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},E={};function I(){if(x)return S;x=1;var t=function(t){return t&&t.Math===Math&&t};return S=t("object"==typeof globalThis&&globalThis)||t("object"==typeof window&&window)||t("object"==typeof self&&self)||t("object"==typeof O&&O)||t("object"==typeof S&&S)||function(){return this}()||Function("return this")()}var P,j,T,M,A,N,R,C,k={};function L(){return j?P:(j=1,P=function(t){try{return!!t()}catch(t){return!0}})}function V(){if(M)return T;M=1;var t=L();return T=!t((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function z(){if(N)return A;N=1;var t=L();return A=!t((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function D(){if(C)return R;C=1;var t=z(),r=Function.prototype.call;return R=t?r.bind(r):function(){return r.apply(r,arguments)},R}var F,_,$,B,U,H,W,G,K,X,Y,q,J,Q,Z,tt,rt,et,nt,ot,it,ut,ct,at,ft,st,lt,vt,dt,pt,ht,yt,gt,mt,bt,wt,St,xt,Ot,Et,It,Pt={};function jt(){return $?_:($=1,_=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}})}function Tt(){if(U)return B;U=1;var t=z(),r=Function.prototype,e=r.call,n=t&&r.bind.bind(e,e);return B=t?n:function(t){return function(){return e.apply(t,arguments)}},B}function Mt(){if(W)return H;W=1;var t=Tt(),r=t({}.toString),e=t("".slice);return H=function(t){return e(r(t),8,-1)}}function At(){if(K)return G;K=1;var t=Tt(),r=L(),e=Mt(),n=Object,o=t("".split);return G=r((function(){return!n("z").propertyIsEnumerable(0)}))?function(t){return"String"===e(t)?o(t,""):n(t)}:n}function Nt(){return Y?X:(Y=1,X=function(t){return null==t})}function Rt(){if(J)return q;J=1;var t=Nt(),r=TypeError;return q=function(e){if(t(e))throw new r("Can't call method on "+e);return e}}function Ct(){if(Z)return Q;Z=1;var t=At(),r=Rt();return Q=function(e){return t(r(e))}}function kt(){if(rt)return tt;rt=1;var t="object"==typeof document&&document.all;return tt=void 0===t&&void 0!==t?function(r){return"function"==typeof r||r===t}:function(t){return"function"==typeof t}}function Lt(){if(nt)return et;nt=1;var t=kt();return et=function(r){return"object"==typeof r?null!==r:t(r)}}function Vt(){if(it)return ot;it=1;var t=I(),r=kt();return ot=function(e,n){return arguments.length<2?(o=t[e],r(o)?o:void 0):t[e]&&t[e][n];var o},ot}function zt(){if(ct)return ut;ct=1;var t=Tt();return ut=t({}.isPrototypeOf)}function Dt(){if(ft)return at;ft=1;var t=I().navigator,r=t&&t.userAgent;return at=r?String(r):""}function Ft(){if(lt)return st;lt=1;var t,r,e=I(),n=Dt(),o=e.process,i=e.Deno,u=o&&o.versions||i&&i.version,c=u&&u.v8;return c&&(r=(t=c.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!r&&n&&(!(t=n.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=n.match(/Chrome\/(\d+)/))&&(r=+t[1]),st=r}function _t(){if(dt)return vt;dt=1;var t=Ft(),r=L(),e=I().String;return vt=!!Object.getOwnPropertySymbols&&!r((function(){var r=Symbol("symbol detection");return!e(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&t&&t<41}))}function $t(){if(ht)return pt;ht=1;var t=_t();return pt=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function Bt(){if(gt)return yt;gt=1;var t=Vt(),r=kt(),e=zt(),n=$t(),o=Object;return yt=n?function(t){return"symbol"==typeof t}:function(n){var i=t("Symbol");return r(i)&&e(i.prototype,o(n))}}function Ut(){if(bt)return mt;bt=1;var t=String;return mt=function(r){try{return t(r)}catch(t){return"Object"}}}function Ht(){if(St)return wt;St=1;var t=kt(),r=Ut(),e=TypeError;return wt=function(n){if(t(n))return n;throw new e(r(n)+" is not a function")}}function Wt(){if(Ot)return xt;Ot=1;var t=Ht(),r=Nt();return xt=function(e,n){var o=e[n];return r(o)?void 0:t(o)}}function Gt(){if(It)return Et;It=1;var t=D(),r=kt(),e=Lt(),n=TypeError;return Et=function(o,i){var u,c;if("string"===i&&r(u=o.toString)&&!e(c=t(u,o)))return c;if(r(u=o.valueOf)&&!e(c=t(u,o)))return c;if("string"!==i&&r(u=o.toString)&&!e(c=t(u,o)))return c;throw new n("Can't convert object to primitive value")},Et}var Kt,Xt,Yt,qt,Jt,Qt,Zt,tr,rr,er,nr,or,ir,ur,cr,ar,fr,sr,lr,vr,dr,pr,hr,yr,gr={exports:{}};function mr(){return Xt?Kt:(Xt=1,Kt=!1)}function br(){if(qt)return Yt;qt=1;var t=I(),r=Object.defineProperty;return Yt=function(e,n){try{r(t,e,{value:n,configurable:!0,writable:!0})}catch(r){t[e]=n}return n}}function wr(){if(Jt)return gr.exports;Jt=1;var t=mr(),r=I(),e=br(),n="__core-js_shared__",o=gr.exports=r[n]||e(n,{});return(o.versions||(o.versions=[])).push({version:"3.38.1",mode:t?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"}),gr.exports}function Sr(){if(Zt)return Qt;Zt=1;var t=wr();return Qt=function(r,e){return t[r]||(t[r]=e||{})}}function xr(){if(rr)return tr;rr=1;var t=Rt(),r=Object;return tr=function(e){return r(t(e))}}function Or(){if(nr)return er;nr=1;var t=Tt(),r=xr(),e=t({}.hasOwnProperty);return er=Object.hasOwn||function(t,n){return e(r(t),n)}}function Er(){if(ir)return or;ir=1;var t=Tt(),r=0,e=Math.random(),n=t(1..toString);return or=function(t){return"Symbol("+(void 0===t?"":t)+")_"+n(++r+e,36)}}function Ir(){if(cr)return ur;cr=1;var t=I(),r=Sr(),e=Or(),n=Er(),o=_t(),i=$t(),u=t.Symbol,c=r("wks"),a=i?u.for||u:u&&u.withoutSetter||n;return ur=function(t){return e(c,t)||(c[t]=o&&e(u,t)?u[t]:a("Symbol."+t)),c[t]}}function Pr(){if(fr)return ar;fr=1;var t=D(),r=Lt(),e=Bt(),n=Wt(),o=Gt(),i=Ir(),u=TypeError,c=i("toPrimitive");return ar=function(i,a){if(!r(i)||e(i))return i;var f,s=n(i,c);if(s){if(void 0===a&&(a="default"),f=t(s,i,a),!r(f)||e(f))return f;throw new u("Can't convert object to primitive value")}return void 0===a&&(a="number"),o(i,a)}}function jr(){if(lr)return sr;lr=1;var t=Pr(),r=Bt();return sr=function(e){var n=t(e,"string");return r(n)?n:n+""}}function Tr(){if(dr)return vr;dr=1;var t=I(),r=Lt(),e=t.document,n=r(e)&&r(e.createElement);return vr=function(t){return n?e.createElement(t):{}}}function Mr(){if(hr)return pr;hr=1;var t=V(),r=L(),e=Tr();return pr=!t&&!r((function(){return 7!==Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a}))}function Ar(){if(yr)return k;yr=1;var t=V(),r=D(),e=function(){if(F)return Pt;F=1;var t={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,e=r&&!t.call({1:2},1);return Pt.f=e?function(t){var e=r(this,t);return!!e&&e.enumerable}:t,Pt}(),n=jt(),o=Ct(),i=jr(),u=Or(),c=Mr(),a=Object.getOwnPropertyDescriptor;return k.f=t?a:function(t,f){if(t=o(t),f=i(f),c)try{return a(t,f)}catch(t){}if(u(t,f))return n(!r(e.f,t,f),t[f])},k}var Nr,Rr,Cr,kr,Lr,Vr,zr,Dr={};function Fr(){if(Rr)return Nr;Rr=1;var t=V(),r=L();return Nr=t&&r((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}function _r(){if(kr)return Cr;kr=1;var t=Lt(),r=String,e=TypeError;return Cr=function(n){if(t(n))return n;throw new e(r(n)+" is not an object")}}function $r(){if(Lr)return Dr;Lr=1;var t=V(),r=Mr(),e=Fr(),n=_r(),o=jr(),i=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,a="enumerable",f="configurable",s="writable";return Dr.f=t?e?function(t,r,e){if(n(t),r=o(r),n(e),"function"==typeof t&&"prototype"===r&&"value"in e&&s in e&&!e[s]){var i=c(t,r);i&&i[s]&&(t[r]=e.value,e={configurable:f in e?e[f]:i[f],enumerable:a in e?e[a]:i[a],writable:!1})}return u(t,r,e)}:u:function(t,e,c){if(n(t),e=o(e),n(c),r)try{return u(t,e,c)}catch(t){}if("get"in c||"set"in c)throw new i("Accessors not supported");return"value"in c&&(t[e]=c.value),t},Dr}function Br(){if(zr)return Vr;zr=1;var t=V(),r=$r(),e=jt();return Vr=t?function(t,n,o){return r.f(t,n,e(1,o))}:function(t,r,e){return t[r]=e,t}}var Ur,Hr,Wr,Gr,Kr,Xr,Yr,qr,Jr,Qr,Zr,te,re,ee,ne,oe={exports:{}};function ie(){if(Hr)return Ur;Hr=1;var t=V(),r=Or(),e=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,o=r(e,"name"),i=o&&"something"===function(){}.name,u=o&&(!t||t&&n(e,"name").configurable);return Ur={EXISTS:o,PROPER:i,CONFIGURABLE:u}}function ue(){if(Gr)return Wr;Gr=1;var t=Tt(),r=kt(),e=wr(),n=t(Function.toString);return r(e.inspectSource)||(e.inspectSource=function(t){return n(t)}),Wr=e.inspectSource}function ce(){if(Xr)return Kr;Xr=1;var t=I(),r=kt(),e=t.WeakMap;return Kr=r(e)&&/native code/.test(String(e))}function ae(){if(qr)return Yr;qr=1;var t=Sr(),r=Er(),e=t("keys");return Yr=function(t){return e[t]||(e[t]=r(t))}}function fe(){return Qr?Jr:(Qr=1,Jr={})}function se(){if(te)return Zr;te=1;var t,r,e,n=ce(),o=I(),i=Lt(),u=Br(),c=Or(),a=wr(),f=ae(),s=fe(),l="Object already initialized",v=o.TypeError,d=o.WeakMap;if(n||a.state){var p=a.state||(a.state=new d);p.get=p.get,p.has=p.has,p.set=p.set,t=function(t,r){if(p.has(t))throw new v(l);return r.facade=t,p.set(t,r),r},r=function(t){return p.get(t)||{}},e=function(t){return p.has(t)}}else{var h=f("state");s[h]=!0,t=function(t,r){if(c(t,h))throw new v(l);return r.facade=t,u(t,h,r),r},r=function(t){return c(t,h)?t[h]:{}},e=function(t){return c(t,h)}}return Zr={set:t,get:r,has:e,enforce:function(n){return e(n)?r(n):t(n,{})},getterFor:function(t){return function(e){var n;if(!i(e)||(n=r(e)).type!==t)throw new v("Incompatible receiver, "+t+" required");return n}}}}function le(){if(re)return oe.exports;re=1;var t=Tt(),r=L(),e=kt(),n=Or(),o=V(),i=ie().CONFIGURABLE,u=ue(),c=se(),a=c.enforce,f=c.get,s=String,l=Object.defineProperty,v=t("".slice),d=t("".replace),p=t([].join),h=o&&!r((function(){return 8!==l((function(){}),"length",{value:8}).length})),y=String(String).split("String"),g=oe.exports=function(t,r,e){"Symbol("===v(s(r),0,7)&&(r="["+d(s(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(r="get "+r),e&&e.setter&&(r="set "+r),(!n(t,"name")||i&&t.name!==r)&&(o?l(t,"name",{value:r,configurable:!0}):t.name=r),h&&e&&n(e,"arity")&&t.length!==e.arity&&l(t,"length",{value:e.arity});try{e&&n(e,"constructor")&&e.constructor?o&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var u=a(t);return n(u,"source")||(u.source=p(y,"string"==typeof r?r:"")),t};return Function.prototype.toString=g((function(){return e(this)&&f(this).source||u(this)}),"toString"),oe.exports}function ve(){if(ne)return ee;ne=1;var t=kt(),r=$r(),e=le(),n=br();return ee=function(o,i,u,c){c||(c={});var a=c.enumerable,f=void 0!==c.name?c.name:i;if(t(u)&&e(u,f,c),c.global)a?o[i]=u:n(i,u);else{try{c.unsafe?o[i]&&(a=!0):delete o[i]}catch(t){}a?o[i]=u:r.f(o,i,{value:u,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return o}}var de,pe,he,ye,ge,me,be,we,Se,xe,Oe,Ee,Ie,Pe,je,Te,Me,Ae={};function Ne(){if(ye)return he;ye=1;var t=function(){if(pe)return de;pe=1;var t=Math.ceil,r=Math.floor;return de=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}}();return he=function(r){var e=+r;return e!=e||0===e?0:t(e)}}function Re(){if(me)return ge;me=1;var t=Ne(),r=Math.max,e=Math.min;return ge=function(n,o){var i=t(n);return i<0?r(i+o,0):e(i,o)}}function Ce(){if(we)return be;we=1;var t=Ne(),r=Math.min;return be=function(e){var n=t(e);return n>0?r(n,9007199254740991):0}}function ke(){if(xe)return Se;xe=1;var t=Ce();return Se=function(r){return t(r.length)}}function Le(){if(Ee)return Oe;Ee=1;var t=Ct(),r=Re(),e=ke(),n=function(n){return function(o,i,u){var c=t(o),a=e(c);if(0===a)return!n&&-1;var f,s=r(u,a);if(n&&i!=i){for(;a>s;)if((f=c[s++])!=f)return!0}else for(;a>s;s++)if((n||s in c)&&c[s]===i)return n||s||0;return!n&&-1}};return Oe={includes:n(!0),indexOf:n(!1)}}function Ve(){if(Pe)return Ie;Pe=1;var t=Tt(),r=Or(),e=Ct(),n=Le().indexOf,o=fe(),i=t([].push);return Ie=function(t,u){var c,a=e(t),f=0,s=[];for(c in a)!r(o,c)&&r(a,c)&&i(s,c);for(;u.length>f;)r(a,c=u[f++])&&(~n(s,c)||i(s,c));return s}}function ze(){return Te?je:(Te=1,je=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function De(){if(Me)return Ae;Me=1;var t=Ve(),r=ze().concat("length","prototype");return Ae.f=Object.getOwnPropertyNames||function(e){return t(e,r)},Ae}var Fe,_e,$e,Be,Ue,He,We,Ge,Ke,Xe,Ye,qe,Je,Qe,Ze,tn,rn,en,nn,on,un,cn,an,fn,sn,ln,vn,dn,pn={};function hn(){if($e)return _e;$e=1;var t=Vt(),r=Tt(),e=De(),n=(Fe||(Fe=1,pn.f=Object.getOwnPropertySymbols),pn),o=_r(),i=r([].concat);return _e=t("Reflect","ownKeys")||function(t){var r=e.f(o(t)),u=n.f;return u?i(r,u(t)):r}}function yn(){if(Ue)return Be;Ue=1;var t=Or(),r=hn(),e=Ar(),n=$r();return Be=function(o,i,u){for(var c=r(i),a=n.f,f=e.f,s=0;s<c.length;s++){var l=c[s];t(o,l)||u&&t(u,l)||a(o,l,f(i,l))}}}function gn(){if(We)return He;We=1;var t=L(),r=kt(),e=/#|\.prototype\./,n=function(e,n){var a=i[o(e)];return a===c||a!==u&&(r(n)?t(n):!!n)},o=n.normalize=function(t){return String(t).replace(e,".").toLowerCase()},i=n.data={},u=n.NATIVE="N",c=n.POLYFILL="P";return He=n}function mn(){if(Ke)return Ge;Ke=1;var t=I(),r=Ar().f,e=Br(),n=ve(),o=br(),i=yn(),u=gn();return Ge=function(c,a){var f,s,l,v,d,p=c.target,h=c.global,y=c.stat;if(f=h?t:y?t[p]||o(p,{}):t[p]&&t[p].prototype)for(s in a){if(v=a[s],l=c.dontCallGetSet?(d=r(f,s))&&d.value:f[s],!u(h?s:p+(y?".":"#")+s,c.forced)&&void 0!==l){if(typeof v==typeof l)continue;i(v,l)}(c.sham||l&&l.sham)&&e(v,"sham",!0),n(f,s,v,c)}}}function bn(){if(Ye)return Xe;Ye=1;var t=Mt();return Xe=Array.isArray||function(r){return"Array"===t(r)}}function wn(){if(Je)return qe;Je=1;var t=TypeError;return qe=function(r){if(r>9007199254740991)throw t("Maximum allowed index exceeded");return r}}function Sn(){if(Ze)return Qe;Ze=1;var t=V(),r=$r(),e=jt();return Qe=function(n,o,i){t?r.f(n,o,e(0,i)):n[o]=i}}function xn(){if(rn)return tn;rn=1;var t={};return t[Ir()("toStringTag")]="z",tn="[object z]"===String(t)}function On(){if(nn)return en;nn=1;var t=xn(),r=kt(),e=Mt(),n=Ir()("toStringTag"),o=Object,i="Arguments"===e(function(){return arguments}());return en=t?e:function(t){var u,c,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(c=function(t,r){try{return t[r]}catch(t){}}(u=o(t),n))?c:i?e(u):"Object"===(a=e(u))&&r(u.callee)?"Arguments":a}}function En(){if(un)return on;un=1;var t=Tt(),r=L(),e=kt(),n=On(),o=Vt(),i=ue(),u=function(){},c=o("Reflect","construct"),a=/^\s*(?:class|function)\b/,f=t(a.exec),s=!a.test(u),l=function(t){if(!e(t))return!1;try{return c(u,[],t),!0}catch(t){return!1}},v=function(t){if(!e(t))return!1;switch(n(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return s||!!f(a,i(t))}catch(t){return!0}};return v.sham=!0,on=!c||r((function(){var t;return l(l.call)||!l(Object)||!l((function(){t=!0}))||t}))?v:l}function In(){if(an)return cn;an=1;var t=bn(),r=En(),e=Lt(),n=Ir()("species"),o=Array;return cn=function(i){var u;return t(i)&&(u=i.constructor,(r(u)&&(u===o||t(u.prototype))||e(u)&&null===(u=u[n]))&&(u=void 0)),void 0===u?o:u}}function Pn(){if(sn)return fn;sn=1;var t=In();return fn=function(r,e){return new(t(r))(0===e?0:e)}}function jn(){if(vn)return ln;vn=1;var t=L(),r=Ir(),e=Ft(),n=r("species");return ln=function(r){return e>=51||!t((function(){var t=[];return(t.constructor={})[n]=function(){return{foo:1}},1!==t[r](Boolean).foo}))}}!function(){if(dn)return E;dn=1;var t=mn(),r=L(),e=bn(),n=Lt(),o=xr(),i=ke(),u=wn(),c=Sn(),a=Pn(),f=jn(),s=Ir(),l=Ft(),v=s("isConcatSpreadable"),d=l>=51||!r((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),p=function(t){if(!n(t))return!1;var r=t[v];return void 0!==r?!!r:e(t)};t({target:"Array",proto:!0,arity:1,forced:!d||!f("concat")},{concat:function(t){var r,e,n,f,s,l=o(this),v=a(l,0),d=0;for(r=-1,n=arguments.length;r<n;r++)if(p(s=-1===r?l:arguments[r]))for(f=i(s),u(d+f),e=0;e<f;e++,d++)e in s&&c(v,d,s[e]);else u(d+1),c(v,d++,s);return v.length=d,v}})}();var Tn,Mn,An,Nn,Rn,Cn,kn,Ln,Vn,zn={};function Dn(){if(Mn)return Tn;Mn=1;var t=On(),r=String;return Tn=function(e){if("Symbol"===t(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}}function Fn(){return Nn?An:(Nn=1,An="\t\n\v\f\r                　\u2028\u2029\ufeff")}!function(){if(Vn)return zn;Vn=1;var t=mn(),r=function(){if(Cn)return Rn;Cn=1;var t=Tt(),r=Rt(),e=Dn(),n=Fn(),o=t("".replace),i=RegExp("^["+n+"]+"),u=RegExp("(^|[^"+n+"])["+n+"]+$"),c=function(t){return function(n){var c=e(r(n));return 1&t&&(c=o(c,i,"")),2&t&&(c=o(c,u,"$1")),c}};return Rn={start:c(1),end:c(2),trim:c(3)}}().trim,e=function(){if(Ln)return kn;Ln=1;var t=ie().PROPER,r=L(),e=Fn();return kn=function(n){return r((function(){return!!e[n]()||"​᠎"!=="​᠎"[n]()||t&&e[n].name!==n}))}}();t({target:"String",proto:!0,forced:e("trim")},{trim:function(){return r(this)}})}();var _n,$n,Bn={};function Un(t){return t.length?t[0].tagName.toLowerCase():""}function Hn(t,r,e,n){void 0===r&&(r="auto"),void 0===e&&(e="auto"),void 0===n&&(n={});var o=u(t),i=n.width,c=void 0===i?"":i,a=n.height,f=void 0===a?"":a,s="";return c&&(s+="width: ".concat(c,";")),f&&(s+="height: ".concat(f,";")),o.attr("width",r),o.attr("height",e),o.attr("style",s),o[0].outerHTML}$n||($n=1,function(){if(_n)return Bn;_n=1;var t=mn(),r=I();t({global:!0,forced:r.globalThis!==r},{globalThis:r})}()),c&&(u.fn.append=c),a&&(u.fn.on=a),f&&(u.fn.focus=f),s&&(u.fn.attr=s),l&&(u.fn.val=l),v&&(u.fn.html=v),d&&(u.fn.parent=d),p&&(u.fn.hasClass=p),h&&(u.fn.empty=h);var Wn,Gn,Kn,Xn={type:"video",elemToHtml:function(t,r){var e=t,n=e.src,o=void 0===n?"":n,i=e.poster,u=void 0===i?"":i,c=e.width,a=void 0===c?"auto":c,f=e.height,s=void 0===f?"auto":f,l=e.style,v=void 0===l?{}:l,d=e.textAlign,p='<div data-w-e-type="video" data-w-e-is-void style="text-align: '.concat(void 0===d?"center":d,';">\n');if(0===o.trim().indexOf("<iframe ")){p+=Hn(o,a,s,v)}else{var h=v.width,y=void 0===h?"":h,g=v.height,m=void 0===g?"":g,b="";y&&(b+="width: ".concat(y,";")),m&&(b+="height: ".concat(m,";")),p+='<video poster="'.concat(u,'" controls="true" width="').concat(a,'" height="').concat(s,'" style="').concat(b,'"><source src="').concat(o,'" type="video/mp4"/></video>')}return p+="\n</div>"}},Yn={};function qn(){if(Gn)return Wn;Gn=1;var t=le(),r=$r();return Wn=function(e,n,o){return o.get&&t(o.get,n,{getter:!0}),o.set&&t(o.set,n,{setter:!0}),r.f(e,n,o)}}!function(){if(Kn)return Yn;Kn=1;var t=V(),r=ie().EXISTS,e=Tt(),n=qn(),o=Function.prototype,i=e(o.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=e(u.exec);t&&!r&&n(o,"name",{configurable:!0,get:function(){try{return c(u,i(this))[1]}catch(t){return""}}})}();var Jn,Qn,Zn,to,ro,eo,no={};function oo(){if(to)return Zn;to=1;var t=function(){if(Qn)return Jn;Qn=1;var t=Mt(),r=Tt();return Jn=function(e){if("Function"===t(e))return r(e)}}(),r=Ht(),e=z(),n=t(t.bind);return Zn=function(t,o){return r(t),void 0===o?t:e?n(t,o):function(){return t.apply(o,arguments)}},Zn}function io(){if(eo)return ro;eo=1;var t=oo(),r=Tt(),e=At(),n=xr(),o=ke(),i=Pn(),u=r([].push),c=function(r){var c=1===r,a=2===r,f=3===r,s=4===r,l=6===r,v=7===r,d=5===r||l;return function(p,h,y,g){for(var m,b,w=n(p),S=e(w),x=o(S),O=t(h,y),E=0,I=g||i,P=c?I(p,x):a||v?I(p,0):void 0;x>E;E++)if((d||E in S)&&(b=O(m=S[E],E,w),r))if(c)P[E]=b;else if(b)switch(r){case 3:return!0;case 5:return m;case 6:return E;case 2:u(P,m)}else switch(r){case 4:return!1;case 7:u(P,m)}return l?-1:f||s?s:P}};return ro={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}}var uo,co,ao,fo,so,lo,vo,po,ho,yo,go={};function mo(){if(co)return uo;co=1;var t=Ve(),r=ze();return uo=Object.keys||function(e){return t(e,r)}}function bo(){if(so)return fo;so=1;var t=Vt();return fo=t("document","documentElement")}function wo(){if(vo)return lo;vo=1;var t,r=_r(),e=function(){if(ao)return go;ao=1;var t=V(),r=Fr(),e=$r(),n=_r(),o=Ct(),i=mo();return go.f=t&&!r?Object.defineProperties:function(t,r){n(t);for(var u,c=o(r),a=i(r),f=a.length,s=0;f>s;)e.f(t,u=a[s++],c[u]);return t},go}(),n=ze(),o=fe(),i=bo(),u=Tr(),c=ae(),a="prototype",f="script",s=c("IE_PROTO"),l=function(){},v=function(t){return"<"+f+">"+t+"</"+f+">"},d=function(t){t.write(v("")),t.close();var r=t.parentWindow.Object;return t=null,r},p=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var r,e,o;p="undefined"!=typeof document?document.domain&&t?d(t):(e=u("iframe"),o="java"+f+":",e.style.display="none",i.appendChild(e),e.src=String(o),(r=e.contentWindow.document).open(),r.write(v("document.F=Object")),r.close(),r.F):d(t);for(var c=n.length;c--;)delete p[a][n[c]];return p()};return o[s]=!0,lo=Object.create||function(t,n){var o;return null!==t?(l[a]=r(t),o=new l,l[a]=null,o[s]=t):o=p(),void 0===n?o:e.f(o,n)}}function So(){if(ho)return po;ho=1;var t=Ir(),r=wo(),e=$r().f,n=t("unscopables"),o=Array.prototype;return void 0===o[n]&&e(o,n,{configurable:!0,value:r(null)}),po=function(t){o[n][t]=!0}}!function(){if(yo)return no;yo=1;var t=mn(),r=io().find,e=So(),n="find",o=!0;n in[]&&Array(1)[n]((function(){o=!1})),t({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),e(n)}();var xo,Oo,Eo,Io={};!function(){if(Eo)return Io;Eo=1;var t=xn(),r=ve(),e=function(){if(Oo)return xo;Oo=1;var t=xn(),r=On();return xo=t?{}.toString:function(){return"[object "+r(this)+"]"}}();t||r(Object.prototype,"toString",e,{unsafe:!0})}();var Po,jo,To,Mo,Ao,No,Ro,Co,ko,Lo,Vo,zo={};function Do(){if(jo)return Po;jo=1;var t=_r();return Po=function(){var r=t(this),e="";return r.hasIndices&&(e+="d"),r.global&&(e+="g"),r.ignoreCase&&(e+="i"),r.multiline&&(e+="m"),r.dotAll&&(e+="s"),r.unicode&&(e+="u"),r.unicodeSets&&(e+="v"),r.sticky&&(e+="y"),e}}function Fo(){if(Lo)return ko;Lo=1;var t,r,e=D(),n=Tt(),o=Dn(),i=Do(),u=function(){if(Mo)return To;Mo=1;var t=L(),r=I().RegExp,e=t((function(){var t=r("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),n=e||t((function(){return!r("a","y").sticky})),o=e||t((function(){var t=r("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));return To={BROKEN_CARET:o,MISSED_STICKY:n,UNSUPPORTED_Y:e}}(),c=Sr(),a=wo(),f=se().get,s=function(){if(No)return Ao;No=1;var t=L(),r=I().RegExp;return Ao=t((function(){var t=r(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))}(),l=function(){if(Co)return Ro;Co=1;var t=L(),r=I().RegExp;return Ro=t((function(){var t=r("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))}(),v=c("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,p=d,h=n("".charAt),y=n("".indexOf),g=n("".replace),m=n("".slice),b=(r=/b*/g,e(d,t=/a/,"a"),e(d,r,"a"),0!==t.lastIndex||0!==r.lastIndex),w=u.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];return(b||S||w||s||l)&&(p=function(t){var r,n,u,c,s,l,x,O=this,E=f(O),I=o(t),P=E.raw;if(P)return P.lastIndex=O.lastIndex,r=e(p,P,I),O.lastIndex=P.lastIndex,r;var j=E.groups,T=w&&O.sticky,M=e(i,O),A=O.source,N=0,R=I;if(T&&(M=g(M,"y",""),-1===y(M,"g")&&(M+="g"),R=m(I,O.lastIndex),O.lastIndex>0&&(!O.multiline||O.multiline&&"\n"!==h(I,O.lastIndex-1))&&(A="(?: "+A+")",R=" "+R,N++),n=new RegExp("^(?:"+A+")",M)),S&&(n=new RegExp("^"+A+"$(?!\\s)",M)),b&&(u=O.lastIndex),c=e(d,T?n:O,R),T?c?(c.input=m(c.input,N),c[0]=m(c[0],N),c.index=O.lastIndex,O.lastIndex+=c[0].length):O.lastIndex=0:b&&c&&(O.lastIndex=O.global?c.index+c[0].length:u),S&&c&&c.length>1&&e(v,c[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(c[s]=void 0)})),c&&j)for(c.groups=l=a(null),s=0;s<j.length;s++)l[(x=j[s])[0]]=c[x[1]];return c}),ko=p}function _o(){if(Vo)return zo;Vo=1;var t=mn(),r=Fo();return t({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r}),zo}_o();var $o=function(){return $o=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var o in r=arguments[e])Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);return t},$o.apply(this,arguments)};function Bo(t,r,e,n){return new(e||(e=Promise))((function(o,i){function u(t){try{a(n.next(t))}catch(t){i(t)}}function c(t){try{a(n.throw(t))}catch(t){i(t)}}function a(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(u,c)}a((n=n.apply(t,r||[])).next())}))}function Uo(t,r){var e,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(a){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(u=0)),u;)try{if(e=1,n&&(o=2&c[0]?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,n=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){u.label=c[1];break}if(6===c[0]&&u.label<o[1]){u.label=o[1],o=c;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(c);break}o[2]&&u.ops.pop(),u.trys.pop();continue}c=r.call(t,u)}catch(t){c=[6,t],n=0}finally{e=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function Ho(t){var r="function"==typeof Symbol&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wo(t,r){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),u=[];try{for(;(void 0===r||r-- >0)&&!(n=i.next()).done;)u.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function Go(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,e=t[Symbol.asyncIterator];return e?e.call(t):(t=Ho(t),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(e){r[e]=t[e]&&function(r){return new Promise((function(n,o){(function(t,r,e,n){Promise.resolve(n).then((function(r){t({value:r,done:e})}),r)})(n,o,(r=t[e](r)).done,r.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;var Ko,Xo,Yo,qo,Jo,Qo,Zo,ti,ri,ei,ni,oi,ii,ui={};function ci(){if(Xo)return Ko;Xo=1;var t=z(),r=Function.prototype,e=r.apply,n=r.call;return Ko="object"==typeof Reflect&&Reflect.apply||(t?n.bind(e):function(){return n.apply(e,arguments)}),Ko}function ai(){if(Qo)return Jo;Qo=1;var t=Tt(),r=Ne(),e=Dn(),n=Rt(),o=t("".charAt),i=t("".charCodeAt),u=t("".slice),c=function(t){return function(c,a){var f,s,l=e(n(c)),v=r(a),d=l.length;return v<0||v>=d?t?"":void 0:(f=i(l,v))<55296||f>56319||v+1===d||(s=i(l,v+1))<56320||s>57343?t?o(l,v):f:t?u(l,v,v+2):s-56320+(f-55296<<10)+65536}};return Jo={codeAt:c(!1),charAt:c(!0)}}function fi(){if(ti)return Zo;ti=1;var t=ai().charAt;return Zo=function(r,e,n){return e+(n?t(r,e).length:1)}}function si(){if(ei)return ri;ei=1;var t=Tt(),r=xr(),e=Math.floor,n=t("".charAt),o=t("".replace),i=t("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;return ri=function(t,a,f,s,l,v){var d=f+t.length,p=s.length,h=c;return void 0!==l&&(l=r(l),h=u),o(v,h,(function(r,o){var u;switch(n(o,0)){case"$":return"$";case"&":return t;case"`":return i(a,0,f);case"'":return i(a,d);case"<":u=l[i(o,1,-1)];break;default:var c=+o;if(0===c)return r;if(c>p){var v=e(c/10);return 0===v?r:v<=p?void 0===s[v-1]?n(o,1):s[v-1]+n(o,1):r}u=s[c-1]}return void 0===u?"":u}))}}!function(){if(ii)return ui;ii=1;var t=ci(),r=D(),e=Tt(),n=function(){if(qo)return Yo;qo=1,_o();var t=D(),r=ve(),e=Fo(),n=L(),o=Ir(),i=Br(),u=o("species"),c=RegExp.prototype;return Yo=function(a,f,s,l){var v=o(a),d=!n((function(){var t={};return t[v]=function(){return 7},7!==""[a](t)})),p=d&&!n((function(){var t=!1,r=/a/;return"split"===a&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return t=!0,null},r[v](""),!t}));if(!d||!p||s){var h=/./[v],y=f(v,""[a],(function(r,n,o,i,u){var a=n.exec;return a===e||a===c.exec?d&&!u?{done:!0,value:t(h,n,o,i)}:{done:!0,value:t(r,o,n,i)}:{done:!1}}));r(String.prototype,a,y[0]),r(c,v,y[1])}l&&i(c[v],"sham",!0)}}(),o=L(),i=_r(),u=kt(),c=Nt(),a=Ne(),f=Ce(),s=Dn(),l=Rt(),v=fi(),d=Wt(),p=si(),h=function(){if(oi)return ni;oi=1;var t=D(),r=_r(),e=kt(),n=Mt(),o=Fo(),i=TypeError;return ni=function(u,c){var a=u.exec;if(e(a)){var f=t(a,u,c);return null!==f&&r(f),f}if("RegExp"===n(u))return t(o,u,c);throw new i("RegExp#exec called on incompatible receiver")}}(),y=Ir()("replace"),g=Math.max,m=Math.min,b=e([].concat),w=e([].push),S=e("".indexOf),x=e("".slice),O="$0"==="a".replace(/./,"$0"),E=!!/./[y]&&""===/./[y]("a","$0");n("replace",(function(e,n,o){var O=E?"$":"$0";return[function(t,e){var o=l(this),i=c(t)?void 0:d(t,y);return i?r(i,t,o,e):r(n,s(o),t,e)},function(r,e){var c=i(this),l=s(r);if("string"==typeof e&&-1===S(e,O)&&-1===S(e,"$<")){var d=o(n,c,l,e);if(d.done)return d.value}var y=u(e);y||(e=s(e));var E,I=c.global;I&&(E=c.unicode,c.lastIndex=0);for(var P,j=[];null!==(P=h(c,l))&&(w(j,P),I);){""===s(P[0])&&(c.lastIndex=v(l,f(c.lastIndex),E))}for(var T,M="",A=0,N=0;N<j.length;N++){for(var R,C=s((P=j[N])[0]),k=g(m(a(P.index),l.length),0),L=[],V=1;V<P.length;V++)w(L,void 0===(T=P[V])?T:String(T));var z=P.groups;if(y){var D=b([C],L,k,l);void 0!==z&&w(D,z),R=s(t(e,void 0,D))}else R=p(C,l,k,L,z,e);k>=A&&(M+=x(l,A,k)+R,A=k+C.length)}return M+x(l,A)}]}),!!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!O||E)}();var li,vi,di,pi,hi,yi,gi,mi,bi,wi={};function Si(){return vi?li:(vi=1,li={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})}function xi(){if(pi)return di;pi=1;var t=Tr()("span").classList,r=t&&t.constructor&&t.constructor.prototype;return di=r===Object.prototype?void 0:r}function Oi(){if(yi)return hi;yi=1;var t=L();return hi=function(r,e){var n=[][r];return!!n&&t((function(){n.call(null,e||function(){return 1},1)}))}}function Ei(t){return void 0===t&&(t="r"),"".concat(t,"-").concat(m())}function Ii(t){var r={};return t.trim().split(";").forEach((function(t){if(t){var e=Wo(t.split(":"),2),n=e[0],o=e[1];n&&o&&(r[n.trim()]=o.trim())}})),r}function Pi(){return Ei("w-e-insert-video")}!function(){if(bi)return wi;bi=1;var t=I(),r=Si(),e=xi(),n=function(){if(mi)return gi;mi=1;var t=io().forEach,r=Oi()("forEach");return gi=r?[].forEach:function(r){return t(this,r,arguments.length>1?arguments[1]:void 0)},gi}(),o=Br(),i=function(t){if(t&&t.forEach!==n)try{o(t,"forEach",n)}catch(r){t.forEach=n}};for(var u in r)r[u]&&i(t[u]&&t[u].prototype);i(e)}();var ji=function(){function t(){this.title=r("videoModule.editSize"),this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.widthInputId=Pi(),this.heightInputId=Pi(),this.buttonId=Pi()}return t.prototype.getSelectedVideoNode=function(t){return e.getSelectedNodeByType(t,"video")},t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,r){},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedVideoNode(t)},t.prototype.getModalPositionNode=function(t){return this.getSelectedVideoNode(t)},t.prototype.getModalContentElem=function(t){var i=this,c=i.widthInputId,a=i.heightInputId,f=i.buttonId,s=Wo(n(r("videoModule.width"),c,"auto"),2),l=s[0],v=s[1],d=u(v),p=Wo(n(r("videoModule.height"),a,"auto"),2),h=p[0],g=p[1],m=u(g),b=Wo(o(f,r("videoModule.ok")),1)[0],w=this.getSelectedVideoNode(t);if(null==this.$content){var S=u("<div></div>");S.on("click","#".concat(f),(function(r){r.preventDefault();var n=S.find("#".concat(c)).val().trim(),o=S.find("#".concat(a)).val().trim(),i=function(t){return/^\d+(\.\d+)?%$/.test(t)},u=function(t){return/^\d+(\.\d+)?$/.test(t)},f="auto",s="auto";i(n)?f=n:u(n)&&(f="".concat(parseInt(n,10),"px")),i(o)?s=o:u(o)&&(s="".concat(parseInt(o,10),"px"));var l=w.style,v=void 0===l?{}:l;t.restoreSelection();var d={style:$o($o({},v),{width:f,height:s})};y.setNodes(t,d,{match:function(t){return e.checkNodeType(t,"video")}}),t.hidePanelOrModal()})),this.$content=S}var x=this.$content;if(x.empty(),x.append(l),x.append(h),x.append(b),null==w)return x[0];var O=w.style,E=void 0===O?{}:O,I=E.width,P=void 0===I?"":I,j=E.height,T=void 0===j?"":j;return d.val(P),m.val(T),setTimeout((function(){d.focus()})),x[0]},t}();function Ti(){return Ei("w-e-edit-video")}var Mi,Ai,Ni,Ri,Ci,ki,Li,Vi,zi,Di,Fi,_i,$i,Bi,Ui,Hi,Wi,Gi,Ki,Xi,Yi,qi,Ji,Qi,Zi,tu,ru,eu,nu,ou,iu,uu,cu,au,fu,su,lu,vu,du,pu,hu,yu,gu,mu,bu,wu,Su,xu,Ou=function(){function t(){this.title=r("videoModule.edit"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M864 0a160 160 0 0 1 128 256l-64 64-224-224 64-64c26.752-20.096 59.968-32 96-32zM64 736l-64 288 288-64 592-592-224-224L64 736z m651.584-372.416l-448 448-55.168-55.168 448-448 55.168 55.168z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=300,this.$content=null,this.srcInputId=Ti(),this.posterInputId=Ti(),this.buttonId=Ti()}return t.prototype.getSelectedVideoNode=function(t){return e.getSelectedNodeByType(t,"video")},t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,r){},t.prototype.isDisabled=function(t){return null==t.selection||null==this.getSelectedVideoNode(t)},t.prototype.getModalPositionNode=function(t){return this.getSelectedVideoNode(t)},t.prototype.getModalContentElem=function(t){var i=this,c=this,a=c.srcInputId,f=c.posterInputId,s=c.buttonId,l=Wo(n(r("videoModule.videoSrc"),a,r("videoModule.videoSrcPlaceHolder")),2),v=l[0],d=l[1],p=Wo(n(r("videoModule.videoPoster"),f,r("videoModule.videoPosterPlaceHolder")),2),h=p[0],g=p[1],m=u(d),b=u(g),w=Wo(o(s,r("videoModule.ok")),1)[0];if(null==this.$content){var S=u("<div></div>");S.on("click","#".concat(s),(function(r){return Bo(i,void 0,void 0,(function(){var n,o,i,u;return Uo(this,(function(c){return r.preventDefault(),n=S.find("#".concat(a)).val().trim(),o=S.find("#".concat(f)).val().trim(),i=Ei("video-"),u={src:n,poster:o,key:i},t.restoreSelection(),y.setNodes(t,u,{match:function(t){return e.checkNodeType(t,"video")}}),t.hidePanelOrModal(),[2]}))}))})),this.$content=S}var x=this.$content;x.empty(),x.append(v),x.append(h),x.append(w);var O=this.getSelectedVideoNode(t);if(null==O)return x[0];var E=O.src,I=void 0===E?"":E,P=O.poster,j=void 0===P?"":P;return m.val(I),b.val(j),setTimeout((function(){m.focus()})),x[0]},t}(),Eu={};function Iu(){if(Ai)return Mi;Ai=1;var t=I(),r=Dt(),e=Mt(),n=function(t){return r.slice(0,t.length)===t};return Mi=n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===e(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function Pu(){if(Ri)return Ni;Ri=1;var t=Iu();return Ni="NODE"===t}function ju(){if(Vi)return Li;Vi=1;var t=Lt();return Li=function(r){return t(r)||null===r}}function Tu(){if(Di)return zi;Di=1;var t=ju(),r=String,e=TypeError;return zi=function(n){if(t(n))return n;throw new e("Can't set "+r(n)+" as a prototype")}}function Mu(){if(_i)return Fi;_i=1;var t=function(){if(ki)return Ci;ki=1;var t=Tt(),r=Ht();return Ci=function(e,n,o){try{return t(r(Object.getOwnPropertyDescriptor(e,n)[o]))}catch(t){}}}(),r=Lt(),e=Rt(),n=Tu();return Fi=Object.setPrototypeOf||("__proto__"in{}?function(){var o,i=!1,u={};try{(o=t(Object.prototype,"__proto__","set"))(u,[]),i=u instanceof Array}catch(t){}return function(t,u){return e(t),n(u),r(t)?(i?o(t,u):t.__proto__=u,t):t}}():void 0)}function Au(){if(Bi)return $i;Bi=1;var t=$r().f,r=Or(),e=Ir()("toStringTag");return $i=function(n,o,i){n&&!i&&(n=n.prototype),n&&!r(n,e)&&t(n,e,{configurable:!0,value:o})}}function Nu(){if(Hi)return Ui;Hi=1;var t=Vt(),r=qn(),e=Ir(),n=V(),o=e("species");return Ui=function(e){var i=t(e);n&&i&&!i[o]&&r(i,o,{configurable:!0,get:function(){return this}})}}function Ru(){if(Gi)return Wi;Gi=1;var t=zt(),r=TypeError;return Wi=function(e,n){if(t(n,e))return e;throw new r("Incorrect invocation")}}function Cu(){if(Xi)return Ki;Xi=1;var t=En(),r=Ut(),e=TypeError;return Ki=function(n){if(t(n))return n;throw new e(r(n)+" is not a constructor")}}function ku(){if(qi)return Yi;qi=1;var t=_r(),r=Cu(),e=Nt(),n=Ir()("species");return Yi=function(o,i){var u,c=t(o).constructor;return void 0===c||e(u=t(c)[n])?i:r(u)}}function Lu(){if(Qi)return Ji;Qi=1;var t=Tt();return Ji=t([].slice)}function Vu(){if(tu)return Zi;tu=1;var t=TypeError;return Zi=function(r,e){if(r<e)throw new t("Not enough arguments");return r}}function zu(){if(eu)return ru;eu=1;var t=Dt();return ru=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)}function Du(){if(ou)return nu;ou=1;var t,r,e,n,o=I(),i=ci(),u=oo(),c=kt(),a=Or(),f=L(),s=bo(),l=Lu(),v=Tr(),d=Vu(),p=zu(),h=Pu(),y=o.setImmediate,g=o.clearImmediate,m=o.process,b=o.Dispatch,w=o.Function,S=o.MessageChannel,x=o.String,O=0,E={},P="onreadystatechange";f((function(){t=o.location}));var j=function(t){if(a(E,t)){var r=E[t];delete E[t],r()}},T=function(t){return function(){j(t)}},M=function(t){j(t.data)},A=function(r){o.postMessage(x(r),t.protocol+"//"+t.host)};return y&&g||(y=function(t){d(arguments.length,1);var e=c(t)?t:w(t),n=l(arguments,1);return E[++O]=function(){i(e,void 0,n)},r(O),O},g=function(t){delete E[t]},h?r=function(t){m.nextTick(T(t))}:b&&b.now?r=function(t){b.now(T(t))}:S&&!p?(n=(e=new S).port2,e.port1.onmessage=M,r=u(n.postMessage,n)):o.addEventListener&&c(o.postMessage)&&!o.importScripts&&t&&"file:"!==t.protocol&&!f(A)?(r=A,o.addEventListener("message",M,!1)):r=P in v("script")?function(t){s.appendChild(v("script"))[P]=function(){s.removeChild(this),j(t)}}:function(t){setTimeout(T(t),0)}),nu={set:y,clear:g}}function Fu(){if(uu)return iu;uu=1;var t=I(),r=V(),e=Object.getOwnPropertyDescriptor;return iu=function(n){if(!r)return t[n];var o=e(t,n);return o&&o.value}}function _u(){if(au)return cu;au=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(t){var r={item:t,next:null},e=this.tail;e?e.next=r:this.head=r,this.tail=r},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},cu=t}function $u(){if(pu)return du;pu=1;var t,r,e,n,o,i=I(),u=Fu(),c=oo(),a=Du().set,f=_u(),s=zu(),l=function(){if(su)return fu;su=1;var t=Dt();return fu=/ipad|iphone|ipod/i.test(t)&&"undefined"!=typeof Pebble}(),v=function(){if(vu)return lu;vu=1;var t=Dt();return lu=/web0s(?!.*chrome)/i.test(t)}(),d=Pu(),p=i.MutationObserver||i.WebKitMutationObserver,h=i.document,y=i.process,g=i.Promise,m=u("queueMicrotask");if(!m){var b=new f,w=function(){var r,e;for(d&&(r=y.domain)&&r.exit();e=b.get();)try{e()}catch(r){throw b.head&&t(),r}r&&r.enter()};s||d||v||!p||!h?!l&&g&&g.resolve?((n=g.resolve(void 0)).constructor=g,o=c(n.then,n),t=function(){o(w)}):d?t=function(){y.nextTick(w)}:(a=c(a,i),t=function(){a(w)}):(r=!0,e=h.createTextNode(""),new p(w).observe(e,{characterData:!0}),t=function(){e.data=r=!r}),m=function(r){b.head||t(),b.add(r)}}return du=m}function Bu(){return yu||(yu=1,hu=function(t,r){try{1===arguments.length?console.error(t):console.error(t,r)}catch(t){}}),hu}function Uu(){return mu?gu:(mu=1,gu=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}})}function Hu(){if(wu)return bu;wu=1;var t=I();return bu=t.Promise}function Wu(){if(xu)return Su;xu=1;var t=I(),r=Hu(),e=kt(),n=gn(),o=ue(),i=Ir(),u=Iu(),c=mr(),a=Ft(),f=r&&r.prototype,s=i("species"),l=!1,v=e(t.PromiseRejectionEvent),d=n("Promise",(function(){var t=o(r),e=t!==String(r);if(!e&&66===a)return!0;if(c&&(!f.catch||!f.finally))return!0;if(!a||a<51||!/native code/.test(t)){var n=new r((function(t){t(1)})),i=function(t){t((function(){}),(function(){}))};if((n.constructor={})[s]=i,!(l=n.then((function(){}))instanceof i))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||v)}));return Su={CONSTRUCTOR:d,REJECTION_EVENT:v,SUBCLASSING:l}}var Gu,Ku,Xu={};function Yu(){if(Gu)return Xu;Gu=1;var t=Ht(),r=TypeError,e=function(e){var n,o;this.promise=new e((function(t,e){if(void 0!==n||void 0!==o)throw new r("Bad Promise constructor");n=t,o=e})),this.resolve=t(n),this.reject=t(o)};return Xu.f=function(t){return new e(t)},Xu}var qu,Ju,Qu,Zu,tc,rc,ec,nc,oc,ic,uc,cc,ac,fc,sc,lc,vc,dc={};function pc(){return Ju?qu:(Ju=1,qu={})}function hc(){if(Zu)return Qu;Zu=1;var t=Ir(),r=pc(),e=t("iterator"),n=Array.prototype;return Qu=function(t){return void 0!==t&&(r.Array===t||n[e]===t)}}function yc(){if(rc)return tc;rc=1;var t=On(),r=Wt(),e=Nt(),n=pc(),o=Ir()("iterator");return tc=function(i){if(!e(i))return r(i,o)||r(i,"@@iterator")||n[t(i)]}}function gc(){if(nc)return ec;nc=1;var t=D(),r=Ht(),e=_r(),n=Ut(),o=yc(),i=TypeError;return ec=function(u,c){var a=arguments.length<2?o(u):c;if(r(a))return e(t(a,u));throw new i(n(u)+" is not iterable")},ec}function mc(){if(ic)return oc;ic=1;var t=D(),r=_r(),e=Wt();return oc=function(n,o,i){var u,c;r(n);try{if(!(u=e(n,"return"))){if("throw"===o)throw i;return i}u=t(u,n)}catch(t){c=!0,u=t}if("throw"===o)throw i;if(c)throw u;return r(u),i}}function bc(){if(cc)return uc;cc=1;var t=oo(),r=D(),e=_r(),n=Ut(),o=hc(),i=ke(),u=zt(),c=gc(),a=yc(),f=mc(),s=TypeError,l=function(t,r){this.stopped=t,this.result=r},v=l.prototype;return uc=function(d,p,h){var y,g,m,b,w,S,x,O=h&&h.that,E=!(!h||!h.AS_ENTRIES),I=!(!h||!h.IS_RECORD),P=!(!h||!h.IS_ITERATOR),j=!(!h||!h.INTERRUPTED),T=t(p,O),M=function(t){return y&&f(y,"normal",t),new l(!0,t)},A=function(t){return E?(e(t),j?T(t[0],t[1],M):T(t[0],t[1])):j?T(t,M):T(t)};if(I)y=d.iterator;else if(P)y=d;else{if(!(g=a(d)))throw new s(n(d)+" is not iterable");if(o(g)){for(m=0,b=i(d);b>m;m++)if((w=A(d[m]))&&u(v,w))return w;return new l(!1)}y=c(d,g)}for(S=I?d.next:y.next;!(x=r(S,y)).done;){try{w=A(x.value)}catch(t){f(y,"throw",t)}if("object"==typeof w&&w&&u(v,w))return w}return new l(!1)}}function wc(){if(fc)return ac;fc=1;var t=Ir()("iterator"),r=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){r=!0}};n[t]=function(){return this},Array.from(n,(function(){throw 2}))}catch(t){}return ac=function(e,n){try{if(!n&&!r)return!1}catch(t){return!1}var o=!1;try{var i={};i[t]=function(){return{next:function(){return{done:o=!0}}}},e(i)}catch(t){}return o}}function Sc(){if(lc)return sc;lc=1;var t=Hu(),r=wc(),e=Wu().CONSTRUCTOR;return sc=e||!r((function(r){t.all(r).then(void 0,(function(){}))}))}var xc,Oc={};var Ec,Ic={};var Pc,jc={};var Tc,Mc,Ac,Nc,Rc={};function Cc(){if(Mc)return Tc;Mc=1;var t=_r(),r=Lt(),e=Yu();return Tc=function(n,o){if(t(n),r(o)&&o.constructor===n)return o;var i=e.f(n);return(0,i.resolve)(o),i.promise}}function kc(t,r){return Bo(this,arguments,void 0,(function(t,r,n,o,i){var u,c,a,f,s,l,v;return void 0===n&&(n=""),void 0===o&&(o=""),void 0===i&&(i=""),Uo(this,(function(d){switch(d.label){case 0:return r?(t.restoreSelection(),u=t.getMenuConfig("insertVideo"),c=u.onInsertedVideo,a=u.checkVideo,f=u.parseVideoSrc,[4,a(r,n)]):[2];case 1:return"string"==typeof(s=d.sent())?(t.alert(s,"error"),[2]):null==s?[2]:[4,f(r)];case 2:return 0!==(l=d.sent()).trim().indexOf("<iframe ")&&(l=l.replace(/</g,"&lt;").replace(/>/g,"&gt;")),v={type:"video",src:l,poster:n,children:[{text:""}],style:{width:o,height:i}},Promise.resolve().then((function(){e.isSelectedEmptyParagraph(t)&&y.removeNodes(t,{mode:"highest"}),y.insertNodes(t,v,{mode:"highest"})})),c(v),[2]}}))}))}function Lc(){return Ei("w-e-insert-video")}Nc||(Nc=1,function(){if(Ku)return Eu;Ku=1;var t,r,e,n=mn(),o=mr(),i=Pu(),u=I(),c=D(),a=ve(),f=Mu(),s=Au(),l=Nu(),v=Ht(),d=kt(),p=Lt(),h=Ru(),y=ku(),g=Du().set,m=$u(),b=Bu(),w=Uu(),S=_u(),x=se(),O=Hu(),E=Wu(),P=Yu(),j="Promise",T=E.CONSTRUCTOR,M=E.REJECTION_EVENT,A=E.SUBCLASSING,N=x.getterFor(j),R=x.set,C=O&&O.prototype,k=O,L=C,V=u.TypeError,z=u.document,F=u.process,_=P.f,$=_,B=!!(z&&z.createEvent&&u.dispatchEvent),U="unhandledrejection",H=function(t){var r;return!(!p(t)||!d(r=t.then))&&r},W=function(t,r){var e,n,o,i=r.value,u=1===r.state,a=u?t.ok:t.fail,f=t.resolve,s=t.reject,l=t.domain;try{a?(u||(2===r.rejection&&q(r),r.rejection=1),!0===a?e=i:(l&&l.enter(),e=a(i),l&&(l.exit(),o=!0)),e===t.promise?s(new V("Promise-chain cycle")):(n=H(e))?c(n,e,f,s):f(e)):s(i)}catch(t){l&&!o&&l.exit(),s(t)}},G=function(t,r){t.notified||(t.notified=!0,m((function(){for(var e,n=t.reactions;e=n.get();)W(e,t);t.notified=!1,r&&!t.rejection&&X(t)})))},K=function(t,r,e){var n,o;B?((n=z.createEvent("Event")).promise=r,n.reason=e,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:r,reason:e},!M&&(o=u["on"+t])?o(n):t===U&&b("Unhandled promise rejection",e)},X=function(t){c(g,u,(function(){var r,e=t.facade,n=t.value;if(Y(t)&&(r=w((function(){i?F.emit("unhandledRejection",n,e):K(U,e,n)})),t.rejection=i||Y(t)?2:1,r.error))throw r.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},q=function(t){c(g,u,(function(){var r=t.facade;i?F.emit("rejectionHandled",r):K("rejectionhandled",r,t.value)}))},J=function(t,r,e){return function(n){t(r,n,e)}},Q=function(t,r,e){t.done||(t.done=!0,e&&(t=e),t.value=r,t.state=2,G(t,!0))},Z=function(t,r,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===r)throw new V("Promise can't be resolved itself");var n=H(r);n?m((function(){var e={done:!1};try{c(n,r,J(Z,e,t),J(Q,e,t))}catch(r){Q(e,r,t)}})):(t.value=r,t.state=1,G(t,!1))}catch(r){Q({done:!1},r,t)}}};if(T&&(L=(k=function(r){h(this,L),v(r),c(t,this);var e=N(this);try{r(J(Z,e),J(Q,e))}catch(t){Q(e,t)}}).prototype,(t=function(t){R(this,{type:j,done:!1,notified:!1,parent:!1,reactions:new S,rejection:!1,state:0,value:null})}).prototype=a(L,"then",(function(t,r){var e=N(this),n=_(y(this,k));return e.parent=!0,n.ok=!d(t)||t,n.fail=d(r)&&r,n.domain=i?F.domain:void 0,0===e.state?e.reactions.add(n):m((function(){W(n,e)})),n.promise})),r=function(){var r=new t,e=N(r);this.promise=r,this.resolve=J(Z,e),this.reject=J(Q,e)},P.f=_=function(t){return t===k||void 0===t?new r(t):$(t)},!o&&d(O)&&C!==Object.prototype)){e=C.then,A||a(C,"then",(function(t,r){var n=this;return new k((function(t,r){c(e,n,t,r)})).then(t,r)}),{unsafe:!0});try{delete C.constructor}catch(t){}f&&f(C,L)}n({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:k}),s(k,j,!1,!0),l(j)}(),function(){if(vc)return dc;vc=1;var t=mn(),r=D(),e=Ht(),n=Yu(),o=Uu(),i=bc();t({target:"Promise",stat:!0,forced:Sc()},{all:function(t){var u=this,c=n.f(u),a=c.resolve,f=c.reject,s=o((function(){var n=e(u.resolve),o=[],c=0,s=1;i(t,(function(t){var e=c++,i=!1;s++,r(n,u,t).then((function(t){i||(i=!0,o[e]=t,--s||a(o))}),f)})),--s||a(o)}));return s.error&&f(s.value),c.promise}})}(),function(){if(xc)return Oc;xc=1;var t=mn(),r=mr(),e=Wu().CONSTRUCTOR,n=Hu(),o=Vt(),i=kt(),u=ve(),c=n&&n.prototype;if(t({target:"Promise",proto:!0,forced:e,real:!0},{catch:function(t){return this.then(void 0,t)}}),!r&&i(n)){var a=o("Promise").prototype.catch;c.catch!==a&&u(c,"catch",a,{unsafe:!0})}}(),function(){if(Ec)return Ic;Ec=1;var t=mn(),r=D(),e=Ht(),n=Yu(),o=Uu(),i=bc();t({target:"Promise",stat:!0,forced:Sc()},{race:function(t){var u=this,c=n.f(u),a=c.reject,f=o((function(){var n=e(u.resolve);i(t,(function(t){r(n,u,t).then(c.resolve,a)}))}));return f.error&&a(f.value),c.promise}})}(),function(){if(Pc)return jc;Pc=1;var t=mn(),r=Yu();t({target:"Promise",stat:!0,forced:Wu().CONSTRUCTOR},{reject:function(t){var e=r.f(this);return(0,e.reject)(t),e.promise}})}(),function(){if(Ac)return Rc;Ac=1;var t=mn(),r=Vt(),e=mr(),n=Hu(),o=Wu().CONSTRUCTOR,i=Cc(),u=r("Promise"),c=e&&!o;t({target:"Promise",stat:!0,forced:e||o},{resolve:function(t){return i(c&&this===u?n:this,t)}})}());var Vc,zc,Dc,Fc,_c,$c,Bc,Uc,Hc,Wc,Gc,Kc,Xc,Yc,qc,Jc=function(){function t(){this.title=r("videoModule.insertVideo"),this.iconSvg='<svg viewBox="0 0 1024 1024"><path d="M981.184 160.096C837.568 139.456 678.848 128 512 128S186.432 139.456 42.816 160.096C15.296 267.808 0 386.848 0 512s15.264 244.16 42.816 351.904C186.464 884.544 345.152 896 512 896s325.568-11.456 469.184-32.096C1008.704 756.192 1024 637.152 1024 512s-15.264-244.16-42.816-351.904zM384 704V320l320 192-320 192z"></path></svg>',this.tag="button",this.showModal=!0,this.modalWidth=320,this.$content=null,this.srcInputId=Lc(),this.posterInputId=Lc(),this.buttonId=Lc()}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,r){},t.prototype.isDisabled=function(t){var r=t.selection;return null==r||(!g.isCollapsed(r)||!!e.getSelectedElems(t).some((function(r){var n=e.getNodeType(r);return"pre"===n||("list-item"===n||!!t.isVoid(r))})))},t.prototype.getModalPositionNode=function(t){return null},t.prototype.getModalContentElem=function(t){var e=this,i=this,c=i.srcInputId,a=i.posterInputId,f=i.buttonId,s=Wo(n(r("videoModule.videoSrc"),c,r("videoModule.videoSrcPlaceHolder")),2),l=s[0],v=s[1],d=Wo(n(r("videoModule.videoPoster"),a,r("videoModule.videoPosterPlaceHolder")),2),p=d[0],h=d[1],y=u(v),g=u(h),m=Wo(o(f,r("videoModule.ok")),1)[0];if(null==this.$content){var b=u("<div></div>");b.on("click","#".concat(f),(function(r){return Bo(e,void 0,void 0,(function(){var e,n;return Uo(this,(function(o){switch(o.label){case 0:return r.preventDefault(),e=b.find("#".concat(c)).val().trim(),n=b.find("#".concat(a)).val().trim(),[4,kc(t,e,n)];case 1:return o.sent(),t.hidePanelOrModal(),[2]}}))}))})),this.$content=b}var w=this.$content;return w.empty(),w.append(l),w.append(p),w.append(m),y.val(""),g.val(""),setTimeout((function(){y.focus()})),w[0]},t}(),Qc={};function Zc(){if(_c)return Fc;_c=1;var t=Or(),r=kt(),e=xr(),n=ae(),o=function(){if(Dc)return zc;Dc=1;var t=L();return zc=!t((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}(),i=n("IE_PROTO"),u=Object,c=u.prototype;return Fc=o?u.getPrototypeOf:function(n){var o=e(n);if(t(o,i))return o[i];var a=o.constructor;return r(a)&&o instanceof a?a.prototype:o instanceof u?c:null}}function ta(){if(Bc)return $c;Bc=1;var t,r,e,n=L(),o=kt(),i=Lt(),u=wo(),c=Zc(),a=ve(),f=Ir(),s=mr(),l=f("iterator"),v=!1;return[].keys&&("next"in(e=[].keys())?(r=c(c(e)))!==Object.prototype&&(t=r):v=!0),!i(t)||n((function(){var r={};return t[l].call(r)!==r}))?t={}:s&&(t=u(t)),o(t[l])||a(t,l,(function(){return this})),$c={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:v}}function ra(){if(Gc)return Wc;Gc=1;var t=mn(),r=D(),e=mr(),n=ie(),o=kt(),i=function(){if(Hc)return Uc;Hc=1;var t=ta().IteratorPrototype,r=wo(),e=jt(),n=Au(),o=pc(),i=function(){return this};return Uc=function(u,c,a,f){var s=c+" Iterator";return u.prototype=r(t,{next:e(+!f,a)}),n(u,s,!1,!0),o[s]=i,u}}(),u=Zc(),c=Mu(),a=Au(),f=Br(),s=ve(),l=Ir(),v=pc(),d=ta(),p=n.PROPER,h=n.CONFIGURABLE,y=d.IteratorPrototype,g=d.BUGGY_SAFARI_ITERATORS,m=l("iterator"),b="keys",w="values",S="entries",x=function(){return this};return Wc=function(n,l,d,O,E,I,P){i(d,l,O);var j,T,M,A=function(t){if(t===E&&L)return L;if(!g&&t&&t in C)return C[t];switch(t){case b:case w:case S:return function(){return new d(this,t)}}return function(){return new d(this)}},N=l+" Iterator",R=!1,C=n.prototype,k=C[m]||C["@@iterator"]||E&&C[E],L=!g&&k||A(E),V="Array"===l&&C.entries||k;if(V&&(j=u(V.call(new n)))!==Object.prototype&&j.next&&(e||u(j)===y||(c?c(j,y):o(j[m])||s(j,m,x)),a(j,N,!0,!0),e&&(v[N]=x)),p&&E===w&&k&&k.name!==w&&(!e&&h?f(C,"name",w):(R=!0,L=function(){return r(k,this)})),E)if(T={values:A(w),keys:I?L:A(b),entries:A(S)},P)for(M in T)(g||R||!(M in C))&&s(C,M,T[M]);else t({target:l,proto:!0,forced:g||R},T);return e&&!P||C[m]===L||s(C,m,L,{name:E}),v[l]=L,T}}function ea(){return Xc?Kc:(Xc=1,Kc=function(t,r){return{value:t,done:r}})}function na(){if(qc)return Yc;qc=1;var t=Ct(),r=So(),e=pc(),n=se(),o=$r().f,i=ra(),u=ea(),c=mr(),a=V(),f="Array Iterator",s=n.set,l=n.getterFor(f);Yc=i(Array,"Array",(function(r,e){s(this,{type:f,target:t(r),index:0,kind:e})}),(function(){var t=l(this),r=t.target,e=t.index++;if(!r||e>=r.length)return t.target=null,u(void 0,!0);switch(t.kind){case"keys":return u(e,!1);case"values":return u(r[e],!1)}return u([e,r[e]],!1)}),"values");var v=e.Arguments=e.Array;if(r("keys"),r("values"),r("entries"),!c&&a&&"values"!==v.name)try{o(v,"name",{value:"values"})}catch(t){}return Yc}!function(){if(Vc)return Qc;Vc=1;var t=mn(),r=Tt(),e=At(),n=Ct(),o=Oi(),i=r([].join);t({target:"Array",proto:!0,forced:e!==Object||!o("join",",")},{join:function(t){return i(n(this),void 0===t?",":t)}})}(),na();var oa,ia={};!function(){if(oa)return ia;oa=1;var t=mn(),r=io().map;t({target:"Array",proto:!0,forced:!jn()("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})}();var ua,ca={};!function(){if(ua)return ca;ua=1;var t=mn(),r=bn(),e=En(),n=Lt(),o=Re(),i=ke(),u=Ct(),c=Sn(),a=Ir(),f=jn(),s=Lu(),l=f("slice"),v=a("species"),d=Array,p=Math.max;t({target:"Array",proto:!0,forced:!l},{slice:function(t,a){var f,l,h,y=u(this),g=i(y),m=o(t,g),b=o(void 0===a?g:a,g);if(r(y)&&(f=y.constructor,(e(f)&&(f===d||r(f.prototype))||n(f)&&null===(f=f[v]))&&(f=void 0),f===d||void 0===f))return s(y,m,b);for(l=new(void 0===f?d:f)(p(b-m,0)),h=0;m<b;m++,h++)m in y&&c(l,h,y[m]);return l.length=h,l}})}();var aa,fa={};!function(){if(aa)return fa;aa=1;var t=ai().charAt,r=Dn(),e=se(),n=ra(),o=ea(),i="String Iterator",u=e.set,c=e.getterFor(i);n(String,"String",(function(t){u(this,{type:i,string:r(t),index:0})}),(function(){var r,e=c(this),n=e.string,i=e.index;return i>=n.length?o(void 0,!0):(r=t(n,i),e.index+=r.length,o(r,!1))}))}();var sa,la,va,da,pa={};function ha(){if(la)return sa;la=1;var t=L();return sa=!t((function(){return Object.isExtensible(Object.preventExtensions({}))}))}function ya(){if(da)return va;da=1;var t=ve();return va=function(r,e,n){for(var o in e)t(r,o,e[o],n);return r}}var ga,ma,ba,wa,Sa,xa,Oa,Ea,Ia,Pa,ja,Ta,Ma,Aa,Na={exports:{}},Ra={};function Ca(){if(ga)return Ra;ga=1;var t=Mt(),r=Ct(),e=De().f,n=Lu(),o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return Ra.f=function(i){return o&&"Window"===t(i)?function(t){try{return e(t)}catch(t){return n(o)}}(i):e(r(i))},Ra}function ka(){if(Sa)return wa;Sa=1;var t=L(),r=Lt(),e=Mt(),n=function(){if(ba)return ma;ba=1;var t=L();return ma=t((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))}(),o=Object.isExtensible,i=t((function(){}));return wa=i||n?function(t){return!!r(t)&&((!n||"ArrayBuffer"!==e(t))&&(!o||o(t)))}:o}function La(){if(xa)return Na.exports;xa=1;var t=mn(),r=Tt(),e=fe(),n=Lt(),o=Or(),i=$r().f,u=De(),c=Ca(),a=ka(),f=Er(),s=ha(),l=!1,v=f("meta"),d=0,p=function(t){i(t,v,{value:{objectID:"O"+d++,weakData:{}}})},h=Na.exports={enable:function(){h.enable=function(){},l=!0;var e=u.f,n=r([].splice),o={};o[v]=1,e(o).length&&(u.f=function(t){for(var r=e(t),o=0,i=r.length;o<i;o++)if(r[o]===v){n(r,o,1);break}return r},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,r){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,v)){if(!a(t))return"F";if(!r)return"E";p(t)}return t[v].objectID},getWeakData:function(t,r){if(!o(t,v)){if(!a(t))return!0;if(!r)return!1;p(t)}return t[v].weakData},onFreeze:function(t){return s&&l&&a(t)&&!o(t,v)&&p(t),t}};return e[v]=!0,Na.exports}function Va(){if(Ea)return Oa;Ea=1;var t=kt(),r=Lt(),e=Mu();return Oa=function(n,o,i){var u,c;return e&&t(u=o.constructor)&&u!==i&&r(c=u.prototype)&&c!==i.prototype&&e(n,c),n}}function za(){if(Pa)return Ia;Pa=1;var t=mn(),r=I(),e=Tt(),n=gn(),o=ve(),i=La(),u=bc(),c=Ru(),a=kt(),f=Nt(),s=Lt(),l=L(),v=wc(),d=Au(),p=Va();return Ia=function(h,y,g){var m=-1!==h.indexOf("Map"),b=-1!==h.indexOf("Weak"),w=m?"set":"add",S=r[h],x=S&&S.prototype,O=S,E={},I=function(t){var r=e(x[t]);o(x,t,"add"===t?function(t){return r(this,0===t?0:t),this}:"delete"===t?function(t){return!(b&&!s(t))&&r(this,0===t?0:t)}:"get"===t?function(t){return b&&!s(t)?void 0:r(this,0===t?0:t)}:"has"===t?function(t){return!(b&&!s(t))&&r(this,0===t?0:t)}:function(t,e){return r(this,0===t?0:t,e),this})};if(n(h,!a(S)||!(b||x.forEach&&!l((function(){(new S).entries().next()})))))O=g.getConstructor(y,h,m,w),i.enable();else if(n(h,!0)){var P=new O,j=P[w](b?{}:-0,1)!==P,T=l((function(){P.has(1)})),M=v((function(t){new S(t)})),A=!b&&l((function(){for(var t=new S,r=5;r--;)t[w](r,r);return!t.has(-0)}));M||((O=y((function(t,r){c(t,x);var e=p(new S,t,O);return f(r)||u(r,e[w],{that:e,AS_ENTRIES:m}),e}))).prototype=x,x.constructor=O),(T||A)&&(I("delete"),I("has"),m&&I("get")),(A||j)&&I(w),b&&x.clear&&delete x.clear}return E[h]=O,t({global:!0,constructor:!0,forced:O!==S},E),d(O,h),b||g.setStrong(O,h,m),O}}function Da(){if(Ta)return ja;Ta=1;var t=Tt(),r=ya(),e=La().getWeakData,n=Ru(),o=_r(),i=Nt(),u=Lt(),c=bc(),a=io(),f=Or(),s=se(),l=s.set,v=s.getterFor,d=a.find,p=a.findIndex,h=t([].splice),y=0,g=function(t){return t.frozen||(t.frozen=new m)},m=function(){this.entries=[]},b=function(t,r){return d(t.entries,(function(t){return t[0]===r}))};return m.prototype={get:function(t){var r=b(this,t);if(r)return r[1]},has:function(t){return!!b(this,t)},set:function(t,r){var e=b(this,t);e?e[1]=r:this.entries.push([t,r])},delete:function(t){var r=p(this.entries,(function(r){return r[0]===t}));return~r&&h(this.entries,r,1),!!~r}},ja={getConstructor:function(t,a,s,d){var p=t((function(t,r){n(t,h),l(t,{type:a,id:y++,frozen:null}),i(r)||c(r,t[d],{that:t,AS_ENTRIES:s})})),h=p.prototype,m=v(a),b=function(t,r,n){var i=m(t),u=e(o(r),!0);return!0===u?g(i).set(r,n):u[i.id]=n,t};return r(h,{delete:function(t){var r=m(this);if(!u(t))return!1;var n=e(t);return!0===n?g(r).delete(t):n&&f(n,r.id)&&delete n[r.id]},has:function(t){var r=m(this);if(!u(t))return!1;var n=e(t);return!0===n?g(r).has(t):n&&f(n,r.id)}}),r(h,s?{get:function(t){var r=m(this);if(u(t)){var n=e(t);if(!0===n)return g(r).get(t);if(n)return n[r.id]}},set:function(t,r){return b(this,t,r)}}:{add:function(t){return b(this,t,!0)}}),p}}}Aa||(Aa=1,function(){if(Ma)return pa;Ma=1;var t,r=ha(),e=I(),n=Tt(),o=ya(),i=La(),u=za(),c=Da(),a=Lt(),f=se().enforce,s=L(),l=ce(),v=Object,d=Array.isArray,p=v.isExtensible,h=v.isFrozen,y=v.isSealed,g=v.freeze,m=v.seal,b=!e.ActiveXObject&&"ActiveXObject"in e,w=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},S=u("WeakMap",w,c),x=S.prototype,O=n(x.set);if(l)if(b){t=c.getConstructor(w,"WeakMap",!0),i.enable();var E=n(x.delete),P=n(x.has),j=n(x.get);o(x,{delete:function(r){if(a(r)&&!p(r)){var e=f(this);return e.frozen||(e.frozen=new t),E(this,r)||e.frozen.delete(r)}return E(this,r)},has:function(r){if(a(r)&&!p(r)){var e=f(this);return e.frozen||(e.frozen=new t),P(this,r)||e.frozen.has(r)}return P(this,r)},get:function(r){if(a(r)&&!p(r)){var e=f(this);return e.frozen||(e.frozen=new t),P(this,r)?j(this,r):e.frozen.get(r)}return j(this,r)},set:function(r,e){if(a(r)&&!p(r)){var n=f(this);n.frozen||(n.frozen=new t),P(this,r)?O(this,r,e):n.frozen.set(r,e)}else O(this,r,e);return this}})}else r&&s((function(){var t=g([]);return O(new S,t,1),!h(t)}))&&o(x,{set:function(t,r){var e;return d(t)&&(h(t)?e=g:y(t)&&(e=m)),O(this,t,r),e&&e(t),this}})}());var Fa,_a={};function $a(t){return t.getMenuConfig("uploadVideo")}!function(){if(Fa)return _a;Fa=1;var t=I(),r=Si(),e=xi(),n=na(),o=Br(),i=Au(),u=Ir()("iterator"),c=n.values,a=function(t,e){if(t){if(t[u]!==c)try{o(t,u,c)}catch(r){t[u]=c}if(i(t,e,!0),r[e])for(var a in n)if(t[a]!==n[a])try{o(t,a,n[a])}catch(r){t[a]=n[a]}}};for(var f in r)a(t[f]&&t[f].prototype,f);a(e,"DOMTokenList")}();var Ba=new WeakMap;function Ua(t,r){return Bo(this,void 0,void 0,(function(){var e,n;return Uo(this,(function(o){switch(o.label){case 0:return e=function(t){var r=Ba.get(t);if(null!=r)return r;var e=$a(t),n=e.onSuccess,o=e.onProgress,u=e.onFailed,c=e.customInsert,a=e.onError;return r=i($o($o({},e),{onProgress:function(r){t.showProgressBar(r),o&&o(r)},onSuccess:function(r,e){if(c)return c(e,(function(r,e){return kc(t,r,e)})),void n(r,e);var o=e.errno,i=void 0===o?1:o,a=e.data,f=void 0===a?{}:a;if(0===i){var s=f.url,l=void 0===s?"":s,v=f.poster;kc(t,l,void 0===v?"":v),n(r,e)}else u(r,e)},onError:function(t,r,e){a(t,r,e)}})),Ba.set(t,r),r}(t),n=r.map((function(t){return{name:t.name,type:t.type,size:t.size,data:t}})),e.addFiles(n),[4,e.upload()];case 1:return o.sent(),[2]}}))}))}var Ha=function(){function t(){this.title=r("videoModule.uploadVideo"),this.iconSvg='<svg viewBox="0 0 1056 1024"><path d="M805.902261 521.819882a251.441452 251.441452 0 0 0-251.011972 246.600033 251.051015 251.051015 0 1 0 502.023944 8.823877 253.237463 253.237463 0 0 0-251.011972-255.42391z m59.463561 240.001647v129.898403h-116.701631v-129.898403h-44.041298l101.279368-103.504859 101.279368 103.504859z" p-id="6802"></path><path d="M788.254507 0.000781H99.094092A98.663439 98.663439 0 0 0 0.001171 99.093701v590.067495a98.663439 98.663439 0 0 0 99.092921 99.092921h411.7549a266.434235 266.434235 0 0 1-2.186448-41.815807 275.843767 275.843767 0 0 1 275.180024-270.729042 270.650955 270.650955 0 0 1 103.504859 19.834201V99.093701A101.51363 101.51363 0 0 0 788.254507 0.000781zM295.054441 640.747004V147.507894l394.146189 246.600033z"></path></svg>',this.tag="button"}return t.prototype.getValue=function(t){return""},t.prototype.isActive=function(t){return!1},t.prototype.exec=function(t,r){var e=this.getMenuConfig(t),n=e.allowedFileTypes,o=void 0===n?[]:n,i=e.customBrowseAndUpload;if(i)i((function(r,e){return kc(t,r,e)}));else{var c="";o.length>0&&(c='accept="'.concat(o.join(", "),'"'));var a=u("body"),f=u('<input type="file" '.concat(c," multiple/>"));f.hide(),a.append(f),f.click(),f.on("change",(function(){var r=f[0].files;!function(t,r){Bo(this,void 0,void 0,(function(){var e,n,o,i,u,c,a,f,s,l,v,d;return Uo(this,(function(p){switch(p.label){case 0:if(null==r)return[2];e=Array.prototype.slice.call(r),n=[],o=$a(t).customUpload,p.label=1;case 1:p.trys.push([1,8,9,14]),i=!0,u=Go(e),p.label=2;case 2:return[4,u.next()];case 3:return c=p.sent(),(s=c.done)?[3,7]:(d=c.value,i=!1,a=d,o?[4,o(a,(function(r,e){return kc(t,r,e)}))]:[3,5]);case 4:return p.sent(),[3,6];case 5:n.push(a),p.label=6;case 6:return i=!0,[3,2];case 7:return[3,14];case 8:return f=p.sent(),l={error:f},[3,14];case 9:return p.trys.push([9,,12,13]),i||s||!(v=u.return)?[3,11]:[4,v.call(u)];case 10:p.sent(),p.label=11;case 11:return[3,13];case 12:if(l)throw l.error;return[7];case 13:return[7];case 14:return n.length>0?[4,Ua(t,n)]:[3,16];case 15:p.sent(),p.label=16;case 16:return[2]}}))}))}(t,r)}))}},t.prototype.isDisabled=function(t){var r=t.selection;return null==r||(!g.isCollapsed(r)||!!e.getSelectedElems(t).some((function(r){var n=e.getNodeType(r);return"pre"===n||("list-item"===n||!!t.isVoid(r))})))},t.prototype.getMenuConfig=function(t){return t.getMenuConfig("uploadVideo")},t}(),Wa={key:"insertVideo",factory:function(){return new Jc},config:{onInsertedVideo:function(t){},checkVideo:function(t,r){return!0},parseVideoSrc:function(t){return t}}},Ga={key:"uploadVideo",factory:function(){return new Ha},config:{server:"",fieldName:"wangeditor-uploaded-video",maxFileSize:10485760,maxNumberOfFiles:5,allowedFileTypes:["video/*"],meta:{},metaWithUrl:!1,withCredentials:!1,timeout:3e4,onBeforeUpload:function(t){return t},onProgress:function(t){},onSuccess:function(t,r){},onFailed:function(t,r){console.error("'".concat(t.name,"' upload failed"),r)},onError:function(t,r,e){console.error("'".concat(t.name," upload error"),r,e)}}},Ka={key:"editVideoSize",factory:function(){return new ji}},Xa={key:"editVideoSrc",factory:function(){return new Ou}};function Ya(t,r,e,n,o,i){return void 0===r&&(r=""),void 0===e&&(e="auto"),void 0===n&&(n="auto"),void 0===o&&(o={}),void 0===i&&(i="center"),{type:"video",src:t,poster:r,width:e,height:n,style:o,children:[{text:""}],textAlign:i}}var qa={selector:'div[data-w-e-type="video"]',parseElemHtml:function(t,r,e){var n=u(t),o="",i="",c="auto",a="auto",f={},s=n.find("iframe");if(s.length>0)return c=s.attr("width")||"auto",a=s.attr("height")||"auto",f=Ii(f=s.attr("style")||""),Ya(o=s[0].outerHTML,i,c,a,f,Ii(n.attr("style")||"")["text-align"]||"center");var l=n.find("video");return(o=l.attr("src")||"")||l.length>0&&(o=l.find("source").attr("src")||""),c=l.attr("width")||"auto",a=l.attr("height")||"auto",Ya(o,i=l.attr("poster")||"",c,a,f=Ii(f=l.attr("style")||""),Ii(n.attr("style")||"")["text-align"]||"center")}};var Ja,Qa={};!function(){if(Ja)return Qa;Ja=1;var t=mn(),r=Le().includes,e=L(),n=So();t({target:"Array",proto:!0,forced:e((function(){return!Array(1).includes()}))},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}();var Za={renderElems:[{type:"video",renderElem:function(t,r,n){var o,i=t,u=i.src,c=void 0===u?"":u,a=i.poster,f=void 0===a?"":a,s=i.key,l=void 0===s?"":s,v=i.width,d=void 0===v?"auto":v,p=i.height,h=void 0===p?"auto":p,y=i.style,g=void 0===y?{}:y,m=i.textAlign,S=void 0===m?"center":m,x=e.isNodeSelected(n,t);if(0===c.trim().indexOf("<iframe ")){var O=Hn(c,d,h,g);o=b("div",{className:"w-e-textarea-video-container","data-selected":x?"true":"",style:{textAlign:S},innerHTML:O})}else{var E=b("video",{key:l,poster:f,controls:!0,style:g},b("source",{src:c,type:"video/mp4"}),"Sorry, your browser doesn't support embedded videos.\n 抱歉，浏览器不支持 video 视频");"auto"!==d&&(E.data.width=d),"auto"!==h&&(E.data.height=h),o=b("div",{className:"w-e-textarea-video-container","data-selected":x?"true":"",style:{textAlign:S}},E)}return w("div",{props:{contentEditable:!1},on:{mousedown:function(t){return t.preventDefault()}}},o)}}],elemsToHtml:[Xn],preParseHtml:[{selector:"iframe,video,p",preParseHtml:function(t){var r=u(t),e=r;if("p"===Un(r)){var n=r.children();if(1===n.length){var o=n[0],i=o.tagName.toLowerCase();["iframe","video"].includes(i)&&(e=u(o))}}var c=Un(e);if("iframe"!==c&&"video"!==c)return e[0];if("video"===e.parent().attr("data-w-e-type"))return e[0];var a=u('<div data-w-e-type="video" data-w-e-is-void style="text-align: center;"></div>');return a.append(e),a[0]}}],parseElemsHtml:[qa],menus:[Wa,Ga,Ka,Xa],editorPlugin:function(t){var r=t.isVoid,n=t.normalizeNode,o=t;return o.isVoid=function(t){return"video"===t.type||r(t)},o.normalizeNode=function(t){var r=Wo(t,2),i=r[0],u=r[1];"video"===e.getNodeType(i)&&(e.isLastNode(o,i)&&y.insertNodes(o,e.genEmptyParagraph(),{at:[u[0]+1]}));return n([i,u])},o}};export{Za as default};
//# sourceMappingURL=index.mjs.map
